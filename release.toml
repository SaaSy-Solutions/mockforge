# cargo-release configuration compatible with 0.25.x

allow-branch = ["main"]
publish = true
push = false
verify = true
shared-version = true
consolidate-commits = true
pre-release-commit-message = "chore: release {{version}}"
tag-message = "Release {{version}}"

[[pre-release-replacements]]
file = "README.md"
search = "mockforge-cli = \".*\""
replace = "mockforge-cli = \"{{version}}\""
min = 0

[[pre-release-replacements]]
file = "book/src/README.md"
search = "mockforge-cli = \".*\""
replace = "mockforge-cli = \"{{version}}\""
min = 0

pre-release-hook = ["./scripts/check-changelog.sh"]

[workspace.metadata.release]
release = true
shared-version = true
consolidated-commit = true
publish-order = [
    "mockforge-ws",
    "mockforge-http",
    "mockforge-grpc",
    "mockforge-cli"
]

# Individual crate configurations
[workspace.metadata.release.mockforge-ws]
release = true

[workspace.metadata.release.mockforge-http]
release = true

[workspace.metadata.release.mockforge-grpc]
release = true

[workspace.metadata.release.mockforge-cli]
release = true
