import{r as x,R as f,j as t}from"./react-vendor.CjFKJWOU.js";import{a as u}from"./index.js";function p({items:r,position:n,onClose:c,className:m}){const d=x.useRef(null);x.useEffect(()=>{const e=s=>{d.current&&!d.current.contains(s.target)&&c()},o=s=>{s.key==="Escape"&&c()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",o),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",o)}},[c]);const l=f.useMemo(()=>{if(!d.current)return n;const e=d.current.getBoundingClientRect(),o=window.innerWidth,s=window.innerHeight;let a=n.x,i=n.y;return a+e.width>o&&(a=o-e.width-10),i+e.height>s&&(i=s-e.height-10),{x:a,y:i}},[n]);return t.jsx("div",{ref:d,className:u("fixed z-50 bg-popover border border-border rounded-md shadow-lg py-1 min-w-[200px]",m),style:{left:l.x,top:l.y},children:r.map((e,o)=>t.jsxs(f.Fragment,{children:[e.separator&&t.jsx("div",{className:"border-t border-border my-1"}),t.jsxs("button",{onClick:()=>{e.disabled||(e.onClick(),c())},disabled:e.disabled,className:u("w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground flex items-center gap-2","focus:outline-none focus:bg-accent focus:text-accent-foreground",e.disabled&&"opacity-50 cursor-not-allowed"),children:[e.icon&&t.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:e.icon}),t.jsx("span",{children:e.label})]})]},o))})}function w({children:r}){return t.jsx(t.Fragment,{children:r})}function b({children:r,onContextMenu:n}){return t.jsx("div",{onContextMenu:n,children:r})}function v({children:r,className:n}){return t.jsx("div",{className:u("bg-white border border-gray-200 rounded-md shadow-lg py-1 min-w-[200px]",n),children:r})}export{p as C,w as a,b,v as c};
