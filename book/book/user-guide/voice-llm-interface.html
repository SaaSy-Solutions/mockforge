<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Voice + LLM Interface - MockForge Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="A comprehensive mocking framework for APIs, gRPC, and WebSockets">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MockForge Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/SaaSy-Solutions/mockforge" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/SaaSy-Solutions/mockforge/edit/main/src/user-guide/voice-llm-interface.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="voice--llm-interface"><a class="header" href="#voice--llm-interface">Voice + LLM Interface</a></h1>
<p>The Voice + LLM Interface allows you to create mock APIs conversationally using natural language commands, powered by LLM interpretation. Generate OpenAPI specifications and mock APIs from voice or text commands.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The Voice + LLM Interface provides:</p>
<ul>
<li><strong>Voice Command Parsing</strong>: Use natural language to describe APIs</li>
<li><strong>OpenAPI Generation</strong>: Automatically generate OpenAPI 3.0 specifications</li>
<li><strong>Conversational Mode</strong>: Multi-turn interactions for complex APIs</li>
<li><strong>Single-Shot Mode</strong>: Complete API generation in one command</li>
<li><strong>CLI and Web UI</strong>: Use from command line or web interface</li>
</ul>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<h3 id="cli-usage"><a class="header" href="#cli-usage">CLI Usage</a></h3>
<h4 id="single-shot-mode"><a class="header" href="#single-shot-mode">Single-Shot Mode</a></h4>
<p>Create a complete API in one command:</p>
<pre><code class="language-bash"># Create API from text command
mockforge voice create \
  --command "Create a user management API with endpoints for listing users, getting a user by ID, creating users, and updating users" \
  --output api.yaml

# Or use interactive input
mockforge voice create
# Enter your command when prompted
</code></pre>
<h4 id="conversational-mode"><a class="header" href="#conversational-mode">Conversational Mode</a></h4>
<p>Build APIs through conversation:</p>
<pre><code class="language-bash"># Start interactive conversation
mockforge voice interactive

# Example conversation:
# &gt; Create a user management API
# &gt; Add an endpoint to get user by email
# &gt; Add authentication to all endpoints
# &gt; Show me the spec
# &gt; done
</code></pre>
<h3 id="web-ui-usage"><a class="header" href="#web-ui-usage">Web UI Usage</a></h3>
<ol>
<li>Navigate to <strong>Voice</strong> page in Admin UI</li>
<li>Click microphone or type your command</li>
<li>View generated OpenAPI spec</li>
<li>Download or use the spec</li>
</ol>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<h3 id="natural-language-commands"><a class="header" href="#natural-language-commands">Natural Language Commands</a></h3>
<p>Describe your API in plain English:</p>
<pre><code>Create a REST API for an e-commerce store with:
- Product catalog with categories
- Shopping cart management
- Order processing
- User authentication
</code></pre>
<h3 id="openapi-generation"><a class="header" href="#openapi-generation">OpenAPI Generation</a></h3>
<p>Automatically generates complete OpenAPI 3.0 specifications:</p>
<pre><code class="language-yaml">openapi: 3.0.0
info:
  title: E-commerce Store API
  version: 1.0.0
paths:
  /products:
    get:
      summary: List products
      responses:
        '200':
          description: List of products
  /cart:
    post:
      summary: Add item to cart
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                product_id:
                  type: integer
                quantity:
                  type: integer
</code></pre>
<h3 id="conversational-mode-1"><a class="header" href="#conversational-mode-1">Conversational Mode</a></h3>
<p>Build complex APIs through multiple interactions:</p>
<pre><code>&gt; Create a blog API
✓ Created blog API with posts endpoint

&gt; Add comments to posts
✓ Added comments endpoint with post_id relationship

&gt; Add user authentication
✓ Added authentication to all endpoints

&gt; Show me the spec
[Displays generated OpenAPI spec]

&gt; done
✓ Saved to blog-api.yaml
</code></pre>
<h3 id="single-shot-mode-1"><a class="header" href="#single-shot-mode-1">Single-Shot Mode</a></h3>
<p>Generate complete APIs in one command:</p>
<pre><code class="language-bash">mockforge voice create \
  --command "Create a task management API with CRUD operations for tasks, projects, and users" \
  --output task-api.yaml
</code></pre>
<h2 id="cli-commands"><a class="header" href="#cli-commands">CLI Commands</a></h2>
<h3 id="create-single-shot"><a class="header" href="#create-single-shot">Create (Single-Shot)</a></h3>
<pre><code class="language-bash">mockforge voice create \
  --command "&lt;description&gt;" \
  --output &lt;file&gt; \
  --format yaml \
  --ai-provider ollama \
  --ai-model llama3.2
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--command</code>: Natural language description of API</li>
<li><code>--output</code>: Output file path (default: <code>generated-api.yaml</code>)</li>
<li><code>--format</code>: Output format (<code>yaml</code> or <code>json</code>)</li>
<li><code>--ai-provider</code>: LLM provider (<code>ollama</code>, <code>openai</code>, <code>anthropic</code>)</li>
<li><code>--ai-model</code>: Model name (e.g., <code>llama3.2</code>, <code>gpt-3.5-turbo</code>)</li>
</ul>
<h3 id="interactive-conversational"><a class="header" href="#interactive-conversational">Interactive (Conversational)</a></h3>
<pre><code class="language-bash">mockforge voice interactive \
  --ai-provider ollama \
  --ai-model llama3.2
</code></pre>
<p><strong>Special Commands:</strong></p>
<ul>
<li><code>help</code> - Show available commands</li>
<li><code>show spec</code> - Display current OpenAPI spec</li>
<li><code>save &lt;file&gt;</code> - Save spec to file</li>
<li><code>done</code> - Exit and save</li>
<li><code>exit</code> - Exit without saving</li>
</ul>
<h2 id="web-ui"><a class="header" href="#web-ui">Web UI</a></h2>
<h3 id="voice-input"><a class="header" href="#voice-input">Voice Input</a></h3>
<p>Use Web Speech API for voice input:</p>
<ol>
<li>Click microphone button</li>
<li>Speak your command</li>
<li>View real-time transcript</li>
<li>See generated spec</li>
</ol>
<h3 id="text-input"><a class="header" href="#text-input">Text Input</a></h3>
<p>Type commands directly:</p>
<ol>
<li>Enter command in text field</li>
<li>Click “Generate” or press Enter</li>
<li>View generated spec</li>
<li>Download or use spec</li>
</ol>
<h3 id="command-history"><a class="header" href="#command-history">Command History</a></h3>
<p>View last 10 commands:</p>
<ul>
<li>Click on history item to reuse</li>
<li>Edit before regenerating</li>
<li>Save successful commands</li>
</ul>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<h3 id="ai-provider-configuration"><a class="header" href="#ai-provider-configuration">AI Provider Configuration</a></h3>
<pre><code class="language-yaml">voice:
  enabled: true
  ai_provider: "ollama"  # or "openai", "anthropic"
  ai_model: "llama3.2"
  ai_base_url: "http://localhost:11434"  # For Ollama
  ai_api_key: "${AI_API_KEY}"  # For OpenAI/Anthropic
</code></pre>
<h3 id="cli-configuration"><a class="header" href="#cli-configuration">CLI Configuration</a></h3>
<pre><code class="language-bash"># Set AI provider via environment
export MOCKFORGE_VOICE_AI_PROVIDER=ollama
export MOCKFORGE_VOICE_AI_MODEL=llama3.2
export MOCKFORGE_VOICE_AI_BASE_URL=http://localhost:11434

# Or use OpenAI
export MOCKFORGE_VOICE_AI_PROVIDER=openai
export MOCKFORGE_VOICE_AI_MODEL=gpt-3.5-turbo
export MOCKFORGE_VOICE_AI_API_KEY=sk-...
</code></pre>
<h2 id="api-endpoints"><a class="header" href="#api-endpoints">API Endpoints</a></h2>
<h3 id="process-voice-command"><a class="header" href="#process-voice-command">Process Voice Command</a></h3>
<pre><code class="language-http">POST /api/v2/voice/process
Content-Type: application/json

{
  "command": "Create a user management API",
  "mode": "single_shot",  # or "conversational"
  "conversation_id": null  # For conversational mode
}
</code></pre>
<p><strong>Response:</strong></p>
<pre><code class="language-json">{
  "success": true,
  "spec": {
    "openapi": "3.0.0",
    "info": {...},
    "paths": {...}
  },
  "conversation_id": "uuid"  # For conversational mode
}
</code></pre>
<h3 id="continue-conversation"><a class="header" href="#continue-conversation">Continue Conversation</a></h3>
<pre><code class="language-http">POST /api/v2/voice/process
Content-Type: application/json

{
  "command": "Add authentication",
  "mode": "conversational",
  "conversation_id": "uuid"
}
</code></pre>
<h2 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h2>
<h3 id="rapid-prototyping"><a class="header" href="#rapid-prototyping">Rapid Prototyping</a></h3>
<p>Quickly create API prototypes:</p>
<pre><code class="language-bash">mockforge voice create \
  --command "Create a simple todo API with CRUD operations" \
  --output todo-api.yaml
</code></pre>
<h3 id="api-design"><a class="header" href="#api-design">API Design</a></h3>
<p>Design APIs by describing them:</p>
<pre><code class="language-bash">mockforge voice interactive

# &gt; Create a social media API
# &gt; Add posts, comments, and likes
# &gt; Add user profiles
# &gt; Show me the spec
</code></pre>
<h3 id="learning"><a class="header" href="#learning">Learning</a></h3>
<p>Learn OpenAPI by example:</p>
<pre><code class="language-bash"># Generate spec
mockforge voice create --command "..."

# Review generated spec
cat generated-api.yaml
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<ol>
<li><strong>Be Specific</strong>: Provide clear, detailed descriptions</li>
<li><strong>Iterate</strong>: Use conversational mode for complex APIs</li>
<li><strong>Review Generated Specs</strong>: Always review and validate generated specs</li>
<li><strong>Use Local LLMs</strong>: Use Ollama for faster, free generation</li>
<li><strong>Save Good Examples</strong>: Save successful commands for reuse</li>
</ol>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="command-not-understood"><a class="header" href="#command-not-understood">Command Not Understood</a></h3>
<ul>
<li>Be more specific in your description</li>
<li>Break complex APIs into smaller parts</li>
<li>Use conversational mode for clarification</li>
</ul>
<h3 id="spec-generation-fails"><a class="header" href="#spec-generation-fails">Spec Generation Fails</a></h3>
<ul>
<li>Check AI provider is accessible</li>
<li>Verify API key is set (for OpenAI/Anthropic)</li>
<li>Review server logs for errors</li>
</ul>
<h3 id="voice-input-not-working"><a class="header" href="#voice-input-not-working">Voice Input Not Working</a></h3>
<ul>
<li>Check browser permissions for microphone</li>
<li>Verify Web Speech API is supported</li>
<li>Use text input as fallback</li>
</ul>
<h2 id="related-documentation"><a class="header" href="#related-documentation">Related Documentation</a></h2>
<ul>
<li><a href="generative-schema.html">Generative Schema Mode</a> - JSON-based API generation</li>
<li><a href="http-mocking/openapi.html">OpenAPI Integration</a> - Working with OpenAPI specs</li>
<li><a href="../configuration/files.html">Configuration Guide</a> - Complete configuration reference</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../user-guide/deceptive-deploys.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../user-guide/reality-continuum.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../user-guide/deceptive-deploys.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../user-guide/reality-continuum.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../custom.js"></script>



    </div>
    </body>
</html>
